<html>
	<head>
		<title>OCR</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js" type="text/javascript"></script>
		
		<script type="text/javascript">
			$(document).ready(function()
			{
				var letter=0;
				var letters = ["A","B","G","D","H"];
				
				$("#recognize").click(function()
				{
				  	var candidate_score = 0;
				  	var ideal_weight = 0;
				  	

				  	for (i=0; i< letters.length;i++)
				  	{
					  	$('.input_check').each(function(index) 
					  	{
					  		var val = $('#'+(index+1)+letters[i]).text();
					  		
					  		if($(this).css("background-color")=="rgb(85, 85, 85)"){
					  			val = val * 1;
					  		}else{
					  			val = val * 0;
					  		}
					  		candidate_score += val;
					  	});

				  		$('.weight').each(function(index) 
				  		{
					  		var val = $('#'+(index+1)+letters[i]).text();
					  		if(val > 0)
					  		{
					  			ideal_weight += val * 1;
					  		}
				  		});
					  	
					  	
					  	$('#rq'+letters[i]).text( Math.round((candidate_score / ideal_weight) * 100) / 100);
						
					  	candidate_score = 0;
					  	ideal_weight = 0;

				  	}


				  	$('.input_check').each(function(index) 
				  	{
				  		$(this).css("background-color","#dedede");
				  	});

				});
				
			  var isDown = false;
			
			  $(document).mousedown(function() 
			  {
			    isDown = true;
			  })
			  .mouseup(function() 
			  {
			    isDown = false;
			  });
			



			for (var i=0; i<letters.length; i++)
			{
			  $(".input"+letters[i]).mouseover(function(){
			    if(isDown) {        // Only change css if mouse is down
			    	$(this).css("background-color","#555");
			    }
			  });
			  
			  $(".input"+letters[i]).click(function(){
			    $(this).css("background-color","#555");
			  });
			  
			 }


			  $(".input_check").mouseover(function(){
			    if(isDown) {        // Only change css if mouse is down
			    	$(this).css("background-color","#555");
			    }
			  });
			  
			  $(".input_check").click(function(){
			    $(this).css("background-color","#555");
			  });
			  


			  $("#learnA").click(function(){
			  	letter='A';
			  	learn();
			  });

			  $("#emptyA").click(function(){
			  	letter='A';
			  	empty();
			  });
			  
			  $("#resetA").click(function(){
			  	location.reload(true);
			  });
			  
			   $("#learnB").click(function(){
			  	letter='B';
			  	learn();
			  });
			    
			  $("#emptyB").click(function(){
			  	letter='B';
			  	empty();
			  });
			  
			  $("#resetB").click(function(){
			  	location.reload(true);
			  });

			   $("#learnG").click(function(){
			  	letter='G';
			  	learn();
			  });
			    
			  $("#emptyB").click(function(){
			  	letter='G';
			  	empty();
			  });
			  
			  $("#resetG").click(function(){
			  	location.reload(true);
			  });

			   $("#learnD").click(function(){
			  	letter='D';
			  	learn();
			  });
			    
			  $("#emptyD").click(function(){
			  	letter='D';
			  	empty();
			  });
			  
			  $("#resetD").click(function(){
			  	location.reload(true);
			  });

			   $("#learnH").click(function(){
			  	letter='H';
			  	learn();
			  });
			    
			  $("#emptyH").click(function(){
			  	letter='H';
			  	empty();
			  });
			  
			  $("#resetH").click(function(){
			  	location.reload(true);
			  });

			  function empty(){
			  	$('.input'+letter).each(function(index) {
			  		$(this).css("background-color","#dedede");
			  	});
			  }

			   function learn(){
			   	$('.input'+letter).each(function(index) {
			  		var val = $('#'+(index+1)+letter).text();
			  		if($(this).css("background-color")=="rgb(85, 85, 85)"){
			  			val++;
			  		}else{
			  			val--;
			  		}
			  		$('#'+(index+1)+letter).text(val);
			  	});
			  	empty();
			  }


		  	

			});	
			</script>
		
		<style type="text/css">
			table{
				border-spacing: 1px;
				float: left;
				margin-right: 50px;
				cursor: pointer;
			}
			
			td{
				background-color: #dedede;
				width:  20px;
				height: 30px;
			}
			
			hr{
				border-width: 1px;
				border-style: dashed;
				border-color: #BBB;
				border-bottom-style: none;
			}

			#A,#B,#G,#D,#H {
				float:left;
				border: 5px;
				border-color: blue;
			}

			.learningSet {
				float:left;
				width:100%;

			}
			.recognition{

			}
			.clear{
				clear: both;
			}
		</style>
	</head>
	<body>


		<br />
		<div class="learningSet">
		<div id="A">
			<h3> Alef </h3>

			<input type="submit" value="Reset" id="resetA" /> 
			<input type="submit" value="Empty" id="emptyA" /> 
			<input type="submit" value="Learn" id="learnA" />
			<br /><br />
			
			<table>
				<script>
				for ( var i=0; i<10; i++) {
					document.write ("<tr>");
					for ( var j=0; j<10; j++) {
						document.write ("<td class='inputA'></td>");
					}
					document.write ("</tr>");
				}
				</script> 
			</table>
			
			<table>
				<script>
					var count=0;
					for ( var i=0; i<10; i++) {
						document.write ("<tr>");
						for ( var j=0; j<10; j++) {
					  		document.write ("<td class='weight' id='"+(count +1)+"A'>"+ 0 + "</td>");
					   		count++;
						}
					document.write ("</tr>");
					}
				</script> 
			</table>

			<div class="clear"></div>
		
			<hr />
		</div>

		<div id="B">
			<h3> Bet </h3>

			<input type="submit" value="Reset" id="resetB" /> 
			<input type="submit" value="Empty" id="emptyB" /> 
			<input type="submit" value="Learn" id="learnB" />
			<br /><br />
			
			<table>

				<script>
					
					for ( var i=0; i<10; i++) {
						document.write ("<tr>");
						for ( var j=0; j<10; j++) {
						   document.write ("<td class='inputB'></td>");
						}
						document.write ("</tr>");
					}
				</script> 

			</table>
			
			<table>

				<script>
					var count=0;
					for ( var i=0; i<10; i++) {
						document.write ("<tr>");
						for ( var j=0; j<10; j++) {
					   	document.write ("<td class='weight' id='"+(count +1)+"B'>"+ 0 + "</td>");
					   count++;
						}
						document.write ("</tr>");
					}
				</script> 

			</table>

			<div class="clear"></div>

			<br /><br />
			<hr />

			</div>
		
		<div id="G">
			<h3> Gimmel </h3>

			<input type="submit" value="Reset" id="resetG" /> 
			<input type="submit" value="Empty" id="emptyG" /> 
			<input type="submit" value="Learn" id="learnG" />
			<br /><br />
			
			<table>

				<script>
					
					for ( var i=0; i<10; i++) {
						document.write ("<tr>");
						for ( var j=0; j<10; j++) {
						   document.write ("<td class='inputG'></td>");
						}
						document.write ("</tr>");
					}
				</script> 

			</table>
			
			<table>

				<script>
					var count=0;
					for ( var i=0; i<10; i++) {
						document.write ("<tr>");
						for ( var j=0; j<10; j++) {
					   	document.write ("<td class='weight' id='"+(count +1)+"G'>"+ 0 + "</td>");
					   count++;
						}
						document.write ("</tr>");
					}
				</script> 

			</table>

			<div class="clear"></div>

			<br /><br />
			<hr />

			</div>

			<div id="D">
			<h3> Dalet </h3>

			<input type="submit" value="Reset" id="resetD" /> 
			<input type="submit" value="Empty" id="emptyD" /> 
			<input type="submit" value="Learn" id="learnD" />
			<br /><br />
			
			<table>

				<script>
					
					for ( var i=0; i<10; i++) {
						document.write ("<tr>");
						for ( var j=0; j<10; j++) {
						   document.write ("<td class='inputD'></td>");
						}
						document.write ("</tr>");
					}
				</script> 

			</table>
			
			<table>

				<script>
					var count=0;
					for ( var i=0; i<10; i++) {
						document.write ("<tr>");
						for ( var j=0; j<10; j++) {
					   	document.write ("<td class='weight' id='"+(count +1)+"D'>"+ 0 + "</td>");
					   count++;
						}
						document.write ("</tr>");
					}
				</script> 

			</table>

			<div class="clear"></div>

			<br /><br />
			<hr />

			</div>

			<div id="H">
			<h3> Hei </h3>

			<input type="submit" value="Reset" id="resetH" /> 
			<input type="submit" value="Empty" id="emptyH" /> 
			<input type="submit" value="Learn" id="learnH" />
			<br /><br />
			
			<table>

				<script>
					
					for ( var i=0; i<10; i++) {
						document.write ("<tr>");
						for ( var j=0; j<10; j++) {
						   document.write ("<td class='inputH'></td>");
						}
						document.write ("</tr>");
					}
				</script> 

			</table>
			
			<table>

				<script>
					var count=0;
					for ( var i=0; i<10; i++) {
						document.write ("<tr>");
						for ( var j=0; j<10; j++) {
					   	document.write ("<td class='weight' id='"+(count +1)+"H'>"+ 0 + "</td>");
					   count++;
						}
						document.write ("</tr>");
					}
				</script> 

			</table>

			<div class="clear"></div>

			<br /><br />
			<hr />

			</div>
			</div>


		<div class="recognition">
			<input type="submit" value="Recognize" id="recognize" />
			<br /><br />

			<table>
				<script>
					for ( var i=0; i<10; i++) {
						document.write ("<tr>");
						for ( var j=0; j<10; j++) {
					   document.write ("<td class='input_check'></td>");
					}
					document.write ("</tr>");
				}
				</script> 
			</table>

			<div class="clear"></div>
			<br /><hr /><br />
			RQ Alef = <span id="rqA"></span>
			<br>
			RQ Bet = <span id="rqB"></span>
			<br>
			RQ Gimmel = <span id="rqG"></span>
			<br>
			RQ Dalet = <span id="rqD"></span>
			<br>
			RQ Hei = <span id="rqH"></span>
			
			
		</div>

			

		</body>
	</html>